# General settings {{{
# set modifier
set $super Mod4
set $alt Mod1

# set font
font pango: Noto Sans 12

for_window [class=".*"] border pixel 0

gaps inner 10
gaps outer 0
smart_gaps on
smart_borders on
# }}}

# Autostart {{{
exec --no-startup-id picom -b
exec --no-startup-id xrandr --output DP-5 --auto --left-of HDMI-0 --output HDMI-1 --primary
exec --no-startup-id feh --bg-fill ~/.config/wallpaper.jpg
exec --no-startup-id i3-msg 'exec /usr/bin/pulseaudio --start'
exec --no-startup-id nm-applet
# }}}

# Layout {{{
bar {
  output HDMI-0
  mode hide
  hidden_state hide

  position  top

  font pango:Noto Sans, Font Awesome 5 Free 12
  strip_workspace_numbers yes

  bindsym button4 nop
  bindsym button5 nop
  bindsym button1 nop

  colors {
    background #2f343f
    statusline #2f343f
    separator #4b5262

    # colour of border, background, and text
    focused_workspace   #2f343f #bf616a #d8dee8
    active_workspace    #2f343f #2f343f #d8dee8
    inactive_workspace  #2f343f #2f343f #d8dee8
    urgent_workspace    #2f343f #ebcb8b #2f343f
  }
  status_command i3status
}
bar {
  mode hide
  hidden_state hide
  output DP-5
  tray_output none

  position top

  font pango:Noto Sans, Font Awesome 5 Free 13
  strip_workspace_numbers yes

  bindsym button4 nop
  bindsym button5 nop
  bindsym button1 nop

  colors {
    background #2f343f
    statusline #2f343f
    separator #4b5262

    # colour of border, background, and text
    focused_workspace   #2f343f #bf616a #d8dee8
    active_workspace    #2f343f #2f343f #d8dee8
    inactive_workspace  #2f343f #2f343f #d8dee8
    urgent_workspace    #2f343f #ebcb8b #2f343f
  }
}
# colour of border, background, text, indicator, and child_border
client.focused                  #bf616a #2f343f #d8dee8 #bf616a #e60073
client.focused_inactive #2f343f #2f343f #d8dee8 #2f343f #2f343f
client.unfocused                #2f343f #2f343f #d8dee8 #2f343f #2f343f
client.urgent                   #2f343f #2f343f #d8dee8 #2f343f #2f343f
client.placeholder              #2f343f #2f343f #d8dee8 #2f343f #2f343f
client.background               #2f343f
#}}}

# Workspaces definition {{{
# terminal
set $WS1 "1:&#xf120;"
# browser
set $WS2 "2:&#xf269;"
# mail client
set $WS3 "3:&#xf0e0;"
# watching/reading
set $WS4 "4:&#xf530;"
# gimp
set $WS5 "5:&#xf86d;"
# remote
set $WS6 "6:&#xf1e6;"
# office
set $WS7 "7:&#xf15c;"
# ide
set $WS8 "8:&#xf1c9;"
# debug
set $WS9 "9:&#xf188;"
# communication
set $WS10 "10:&#xf095;"
# games
set $WS11 "11:&#xf11b;"
# home
set $WS12 "12:&#xf015;"
# private-left
set $WS13 "13:&#xf023;L"
# private-right
set $WS14 "14:&#xf023;P"
# repository manager
set $WS15 "15:&#xf3a6;"
# docker manager
set $WS16 "16:&#xf395;"
# virtualbox
set $WS17 "17:&#xf16b;"
# work
set $WS18 "18:&#xf0b1;"
# }}}

# Workspace configuration {{{
workspace $WS1 output HDMI-0
workspace $WS2 output DP-5
workspace $WS3 output HDMI-0
workspace $WS4 output HDMI-0
workspace $WS5 output HDMI-0
workspace $WS6 output HDMI-0
workspace $WS7 output HDMI-0
workspace $WS8 output HDMI-0
workspace $WS9 output DP-5
workspace $WS10 output DP-5
workspace $WS11 output HDMI-0
workspace $WS12 output HDMI-0
workspace $WS13 output DP-5
workspace $WS14 output HDMI-0
workspace $WS15 output DP-5
workspace $WS16 output DP-5
workspace $WS17 output DP-5
workspace $WS18 output DP-5

focus_on_window_activation focus
# }}}

# Key bindings {{{
# start a terminal
bindsym $super+Return exec kitty

# start rofi
bindsym F3 exec "rofi -show drun -font 'Source Code Pro 12'"

# kill focused window
bindsym $alt+F4 kill

# print screen
bindsym Print exec flameshot gui

# change focus
bindsym $super+h focus left
bindsym $super+j focus down
bindsym $super+k focus up
bindsym $super+l focus right

# move focused window
bindsym $super+Shift+h move left
bindsym $super+Shift+j move down
bindsym $super+Shift+k move up
bindsym $super+Shift+l move right

# split in horizontal orientation
bindsym $super+Control+e split h

# split in vertical orientation
bindsym $super+Control+v split v

# enter fullscreen mode for the focused container
bindsym $super+f fullscreen toggle

# change container layout split
bindsym $super+Control+s layout toggle split

bindsym $alt+w layout toggle

# toggle tiling / floating
bindsym $alt+space floating toggle

# change focus between tiling / floating windows
bindsym $super+Shift+space focus mode_toggle

# switch to workspace
bindsym $super+q workspace $WS1
bindsym $super+e workspace $WS2
bindsym $super+2 workspace $WS3
bindsym $super+1 workspace $WS4
bindsym $super+t workspace $WS5
bindsym $super+r workspace $WS6
bindsym $super+x workspace $WS7
bindsym $super+z workspace $WS8
bindsym $super+w workspace $WS9
bindsym $super+0 workspace $WS10
bindsym $super+g workspace $WS11
bindsym $super+3 workspace $WS12
bindsym $super+s workspace $WS15
bindsym $super+d workspace $WS16
bindsym $super+v workspace $WS17
bindsym $super+m workspace $WS18

# move focused container to workspace
bindsym $super+Shift+q move container to workspace $WS1
bindsym $super+Shift+e move container to workspace $WS2
bindsym $super+Shift+2 move container to workspace $WS3
bindsym $super+Shift+1 move container to workspace $WS4
bindsym $super+Shift+t move container to workspace $WS5
bindsym $super+Shift+r move container to workspace $WS6
bindsym $super+Shift+x move container to workspace $WS7
bindsym $super+Shift+z move container to workspace $WS8
bindsym $super+Shift+w move container to workspace $WS9
bindsym $super+Shift+0 move container to workspace $WS10
bindsym $super+Shift+g move container to workspace $WS11
bindsym $super+Shift+3 move container to workspace $WS12
bindsym $super+Shift+s move container to workspace $WS15
bindsym $super+Shift+d move container to workspace $WS16
bindsym $super+Shift+v move container to workspace $WS17
bindsym $super+Shift+m move container to workspace $WS18

# Make the currently focused window a scratchpad
bindsym $super+Shift+minus move scratchpad
bindsym $super+minus scratchpad show
bindsym $super+a [class="KeePassXC"] scratchpad show
# }}}

# Modes {{{
bindsym $alt+p mode "private"
mode "private" {
  bindsym l workspace $WS13; mode "default"
  bindsym r workspace $WS14; mode "default"

  bindsym Shift+l move container to workspace $WS13; mode "default"
  bindsym Shift+r move container to workspace $WS14; mode "default"

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

bindsym $alt+Pause mode "system"
mode "system" {
  bindsym l exec --no-startup-id i3lock -t -i ~/.config/lock_screen.png, mode "default"
  bindsym e exec --no-startup-id i3-msg exit, mode "default"
  bindsym s exec --no-startup-id i3lock -t -i ~/.config/lock_screen.png && systemctl suspend, mode "default"
  bindsym h exec --no-startup-id i3lock -t -i ~/.config/lock_screen.png && systemctl hibernate, mode "default"
  bindsym r exec --no-startup-id systemctl reboot, mode "default"
  bindsym p exec --no-startup-id systemctl poweroff, mode "default"

  bindsym Return mode "default"
  bindsym Escape mode "default"
}

# Pulse Audio controls
bindsym $alt+a mode "audio"
mode "audio" {
  bindsym i exec pactl set-sink-volume alsa_output.usb-Kingston_HyperX_Virtual_Surround_Sound_00000000-00.analog-stereo +5% #increase sound volume
  bindsym d exec pactl set-sink-volume alsa_output.usb-Kingston_HyperX_Virtual_Surround_Sound_00000000-00.analog-stereo -5% #decrease sound volume
  bindsym t exec pactl set-sink-mute alsa_output.usb-Kingston_HyperX_Virtual_Surround_Sound_00000000-00.analog-stereo toggle # mute sound

  bindsym Control+i exec pactl set-sink-volume alsa_output.pci-0000_01_00.1.hdmi-stereo +5% #increase sound volume
  bindsym Control+d exec pactl set-sink-volume alsa_output.pci-0000_01_00.1.hdmi-stereo -5% #decrease sound volume
  bindsym Control+t exec pactl set-sink-mute alsa_output.pci-0000_01_00.1.hdmi-stereo toggle # mute sound

  bindsym Return mode "default"
  bindsym Escape mode "default"
}
# Resize
bindsym $alt+Insert mode "resize"
mode "resize" {
        bindsym h resize shrink width 10 px or 10 ppt
        bindsym l resize grow height 10 px or 10 ppt
        bindsym k resize shrink height 10 px or 10 ppt
        bindsym j resize grow width 10 px or 10 ppt

	bindsym Return mode "default"
	bindsym Escape mode "default"
}
# Move
bindsym $alt+m mode "move" focus floating
mode "move" {
    bindsym h     move left 5 px
    bindsym j     move down 5 px
    bindsym k     move up 5 px
    bindsym l     move right 5 px

    bindsym Return mode "default"
    bindsym Escape mode "default"
}
# }}}

# Fixes {{{
for_window [class="^jetbrains-.+"][window_type=dialog] focus
# }}}
